# 角色2 (法师) 动作系统详解

## 角色特性

### 基础属性
- **HP**: 100 + 等级 × 30 + 装备HP
- **MP**: 30 + 等级 × 7 + 装备MP  
- **MP恢复**: 2点/帧
- **跳跃速度**: -30
- **跳跃次数**: 等级<10时为1次，≥10时为2次

### 职业特点
- 法师角色，擅长魔法攻击
- HP较低但MP较高
- 拥有魔法技能系统

## 基础动作系统

### 待机 (wait)

**单手武器：**
- 使用 (0)picArray[0] 和 (4)picArray[1] 和 (8)picArray[2] 和 (12)picArray[3]
- 16帧循环
- **特点**: 单手武器待机动画

**双手武器：**
- 使用 (0)picArray[24] 和 (4)picArray[25] 和 (8)picArray[26]
- 16帧循环
- **特点**: 双手武器待机动画

### 行走 (walk)

**单手武器：**
- 使用 (0)picArray[4]
- 16帧循环
- **特点**: 单手武器行走时保持单一姿势

**双手武器：**
- 使用 (0)picArray[28]
- 16帧循环
- **特点**: 双手武器行走动画

### 跑步 (run)

**单手武器：**
- 使用 (0)picArray[4] 和 (2)picArray[5] 和 (4)picArray[6] 和 (6)picArray[7]
- 8帧循环
- **特点**: 单手武器跑步动画

**双手武器：**
- 使用 (0)picArray[28] 和 (2)picArray[29] 和 (4)picArray[30] 和 (6)picArray[31]
- 8帧循环
- **特点**: 双手武器跑步动画

### 跳跃 (jump)

**单手武器：**
- 使用 picArray[8]
- 单帧显示
- **特点**: 跳跃时保持单手武器姿势

**双手武器：**
- 使用 picArray[10]
- 单帧显示
- **特点**: 跳跃时保持双手武器姿势

### 攀爬 (climb)

**单手武器和双手武器：**
- 使用 (0)picArray[22] 和 (2)picArray[23]
- 4帧循环
- **特点**: 攀爬动作不受武器类型影响

## 攻击系统

### 普通攻击1 (attack1)

**单手武器：**
- 使用 (0)picArray[12] 和 (4)picArray[13]
- 12帧
- **特效触发**: 第4帧触发 `addLight("l6")` (单手武器攻击特效)
- **攻击音效**: 第4帧播放 `addSound("att1")` (攻击音效1)
- **受击特效**: 命中时显示 `"lh3"` (受击特效3)
- **魔法技能**: 第6帧触发 `ms1mc` 魔法技能

**双手武器：**
- 使用 (0)picArray[18]
- 12帧
- **特点**: 双手武器攻击1

### 普通攻击2 (attack2)

**单手武器：**
- 使用 (0)picArray[40] 和 (4)picArray[41]
- 15帧
- **特效触发**: 第4帧触发 `addLight("l2")` (单手武器第二段攻击特效)
- **攻击音效**: 第4帧播放 `addSound("att2")` (攻击音效2)
- **受击特效**: 命中时显示 `"lh2"` (受击特效2)

**双手武器：**
- 使用 (0)picArray[35] 和 (4)picArray[39]
- 15帧
- **特效触发**: 第4帧触发 `addLight("l4")` (双手武器第二段攻击特效)
- **攻击音效**: 第4帧播放 `addSound("att2")` (攻击音效2)
- **受击特效**: 命中时显示 `"lh2"` (受击特效2)

### 普通攻击3 (attack3)

**单手武器：**
- 使用 (0)picArray[32] 和 (4)picArray[33]
- 15帧
- **特效触发**: 第4帧触发 `addLight("l7")` (单手武器第三段攻击特效)
- **攻击音效**: 第4帧播放 `addSound("att3")` (攻击音效3)
- **受击特效**: 命中时显示 `"lh3"` (受击特效3)

**双手武器：**
- 使用 (0)picArray[36] 和 (4)picArray[37] 和 (9)picArray[38]
- 15帧
- **特效触发**: 第4帧触发 `addLight("l3")` (单手武器第三段攻击特效)
- **攻击音效**: 第4帧播放 `addSound("att3")` (攻击音效3)
- **受击特效**: 命中时显示 `"lh3"` (受击特效3)
- **魔法技能**: 第7帧触发 `ms1mc` 魔法技能

### 特殊攻击4 (attack4)

**单手武器：**
- 使用 (0)picArray[16] 和 (6)picArray[17]
- 20帧
- **特效触发**: 第0帧触发 `addLight("ls6")` (特殊技能6特效)
- **攻击音效**: 第6帧播放 `addSound("att3")` (攻击音效3)
- **触发条件**: 需要MP≥10且等级≥5，按住上键

**双手武器：**
- 使用 (0)picArray[14] 和 (6)picArray[15]
- 20帧
- **特效触发**: 第0帧触发 `addLight("ls6")` (特殊技能6特效)
- **攻击音效**: 第6帧播放 `addSound("att3")` (攻击音效3)
- **触发条件**: 需要MP≥10且等级≥5，按住上键

### 跳跃攻击 (jumpattack)

**单手武器和双手武器：**
- 使用统一的跳跃攻击动画
- 7帧
- **特点**: 在空中时自动触发

## 特殊动作系统

### 受击 (behit)

**单手武器：**
- 使用 picArray[11]
- 单帧显示
- **特点**: 受击时移除所有灯光效果

**双手武器：**
- 使用 picArray[9]
- 单帧显示
- **特点**: 双手武器受击时的特殊姿势

### 技能1 (skill1)

**单手武器：**
- 使用 picArray[34]
- 15帧
- **特效触发**: 第0帧触发 `addLight("ls4")` (特殊技能4特效)，第2帧触发 `addLight("ls3")` (特殊技能3特效)
- **攻击音效**: 第0帧播放 `addSound("skill3")` (技能3音效)
- **受击特效**: 命中时显示 `"lh3"` (受击特效3)

**双手武器：**
- 使用 picArray[38]
- 15帧
- **特效和音效**: 与单手武器相同

### 技能2 (skill2)

**单手武器和双手武器：**
- 使用统一的技能2动画
- 20帧
- **触发条件**: 需要MP≥100且等级≥20，按住下键
- **特点**: 强力魔法技能，造成屏幕震动

### 翻滚攻击 (rollattack)

**单手武器和双手武器：**
- 使用统一的翻滚攻击动画
- 20帧
- **触发条件**: 需要MP≥20且等级≥7
- **特点**: 法师的翻滚攻击比战士更快

### 死亡 (dead)

**单手武器和双手武器：**
- 使用统一的死亡动画
- 20帧
- **特效触发**: 第0帧触发 `addLight("deadMc")` (死亡特效)
- **特点**: 第0帧隐藏角色，第20帧删除角色对象

## 魔法技能系统

### ms1mc魔法技能
- **触发时机**: 在attack1和attack3的第6-7帧触发
- **效果**: 释放魔法攻击，体现法师的职业特色
- **特点**: 物理攻击与魔法攻击结合

## 角色差异总结

### 与战士(mainrole1)的主要区别

1. **属性差异**
   - HP: 法师100+30×等级，战士150+35×等级
   - MP: 法师30+7×等级，战士20+5×等级
   - MP恢复: 法师2点/帧，战士无

2. **攻击特点**
   - 法师攻击帧数普遍更长(12-15帧)
   - 战士攻击帧数较短(7-10帧)
   - 法师有魔法技能配合

3. **技能系统**
   - 法师技能2需要MP100，战士技能2需要MP60
   - 法师有ms1mc魔法技能
   - 战士有更丰富的物理技能组合

4. **战斗风格**
   - 法师: 魔法为主，物理为辅
   - 战士: 物理为主，技能为辅

这种设计体现了法师和战士两个职业的不同战斗风格和特点。
